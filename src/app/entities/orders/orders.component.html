<div class="grid">
  <div class="col-9">
    <div class="grid">
      <div class="col-6">
        <p-card>
          <h3>Link do formularza</h3>
          <input id="disabled-input" type="text" class="mt-3 w-full" [value]="formLink" pInputText disabled="true" />
        </p-card>
        <div class="mt-3"></div>
        <p-card>
          <h3>Formularz</h3>
          <form [formGroup]="form">
            <div class="grid fluid">
              <div class="col-6 md-4">
                <div class="p-inputgroup">
                  <span class="p-inputgroup-addon"><i class="pi pi-user"></i></span>
                  <input formControlName="name" type="text" pInputText placeholder="Imię" />
                </div>
              </div>
              <div class="col-6 md-4">
                <div class="p-inputgroup">
                  <span class="p-inputgroup-addon">$</span>
                  <input formControlName="email" type="text" pInputText placeholder="Email" />
                </div>
              </div>
              <div class="col-12 md-4">
                <div class="p-inputgroup">
                  <span class="p-inputgroup-addon">+48</span>
                  <input formControlName="phone" type="text" pInputText placeholder="Telefon" />
                </div>
              </div>
              <div class="col-4 md-4">
                <div class="p-inputgroup">
                  <span class="p-inputgroup-addon">$</span>
                  <input formControlName="age" type="number" pInputText placeholder="Wiek" />
                </div>
              </div>
              <div class="col-4 md-4">
                <div class="p-inputgroup">
                  <span class="p-inputgroup-addon">$</span>
                  <input formControlName="height" type="number" pInputText placeholder="Wzrost" />
                </div>
              </div>
              <div class="col-4 md-4">
                <div class="p-inputgroup">
                  <span class="p-inputgroup-addon">$</span>
                  <input formControlName="weight" type="number" pInputText placeholder="Waga" />
                </div>
              </div>
            </div>
            <div class="flex justify-content-end flex-wrap card-container green-container mt-3">
              <div class="flex align-items-right justify-content-right">
                <button
                  [disabled]="!form.valid"
                  pButton
                  pRipple
                  type="submit"
                  label="Wyślij"
                  class="p-button-success"
                  (click)="sendApplication()"
                ></button>
              </div>
            </div>
          </form>
        </p-card>
      </div>
      <div class="col-6"></div>
    </div>
  </div>
  <div class="col-3">
    <p-scrollPanel [style]="{ width: '100%', height: '80vh' }">
      <p-card
        *ngFor="let order of data"
        header="{{ order.name }}"
        subheader="{{ order.email }}"
        [style]="{ width: '360px' }"
        styleClass="p-card-shadow mt-3 pt-3"
      >
        <ng-template pTemplate="header">
          <p class="text-right mr-2">{{ order.created | date: 'yyyy-MM-dd' }}</p>
        </ng-template>
        <p>Waga: {{ order.weight }} Wzrost: {{ order.height }} Wiek: {{ order.age }}</p>
        <p class="mt-2">Telefon: {{ order.phone }}</p>
        <ng-template pTemplate="footer">
          <button
            pButton
            pRipple
            type="button"
            [ngClass]="order.answer ? 'p-button-danger' : 'p-button-success'"
            [disabled]="order.answer"
            [label]="order.answer ? 'Wysłano' : 'Odpowiedz'"
            class="p-button-raised"
            (click)="showDialog(order)"
          ></button>
          <p-button label="Szczegóły" styleClass="p-button-secondary" [style]="{ 'margin-left': '.5em' }"></p-button>
        </ng-template>
      </p-card>
    </p-scrollPanel>
  </div>
</div>
<p-dialog header="Zgłoszenie" [modal]="true" [(visible)]="display" [style]="{ width: '50vw' }">
  <div class="grid">
    <div class="col-4">
      <p class="fw-600">Imię: {{ order?.name }}</p>
      <p-divider></p-divider>
      <p class="fw-600">Email: {{ order?.email }}</p>
      <p-divider></p-divider>
      <p class="fw-600">Telefon: {{ order?.phone }}</p>
      <p-divider></p-divider>
      <p class="fw-600">Wiek: {{ order?.age }} Wzrost: {{ order?.height }} Waga: {{ order?.weight }}</p>
    </div>
    <div class="col-4"></div>
    <div class="col-4"></div>
  </div>
  <div class="flex justify-content-end flex-wrap card-container green-container mt-3">
    <div class="flex align-items-right justify-content-right">
      <button
        [disabled]="!form.valid"
        pButton
        pRipple
        type="submit"
        label="Wyślij"
        class="p-button-success"
        (click)="sendApplication()"
      ></button>
    </div>
  </div>
</p-dialog>
